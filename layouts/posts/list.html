{{ define "main" }}
<header>
  <h1>{{ .Title }}</h1>
  {{- if .Description -}}
    <p class="text-secondary">{{ .Description }}</p>
  {{- end -}}
</header>

{{- if .Pages -}}
  {{- $postsPerPage := default 15 .Site.Params.archivePostsPerPage -}}
  {{- $paginator := .Paginate .Pages $postsPerPage -}}
  <ul class="post-list post-list-condensed">
    {{- range $paginator.Pages -}}
      <li class="post-list-item post-list-item-condensed">
        <div class="post-condensed-header">
          <h2 class="post-list-title">
            <a href="{{ .Permalink }}">{{ .Title }}</a>
          </h2>

          <div class="post-meta">
            {{- if .Date -}}
              <div class="post-meta-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="16" y1="2" x2="16" y2="6"></line>
                  <line x1="8" y1="2" x2="8" y2="6"></line>
                  <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                  {{ .Date.Format "January 2, 2006" }}
                </time>
              </div>
            {{- end -}}

            {{- if .ReadingTime -}}
              <div class="post-meta-item">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                {{ .ReadingTime }} min read
              </div>
            {{- end -}}
          </div>
        </div>

        {{- if .Summary -}}
          <p class="post-summary">{{ .Summary | truncate 120 }}</p>
        {{- end -}}
      </li>
    {{- end -}}
  </ul>

  {{- /* Pagination */ -}}
  {{- if gt $paginator.TotalPages 1 -}}
    <nav class="pagination" role="navigation" aria-label="Pagination">
      <ul>
        {{- if $paginator.HasPrev -}}
          <li>
            <a href="{{ $paginator.Prev.URL }}" rel="prev" aria-label="Previous page">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <polyline points="15 18 9 12 15 6"></polyline>
              </svg>
            </a>
          </li>
        {{- end -}}

        {{- range $paginator.Pagers -}}
          <li>
            {{- if eq . $paginator -}}
              <span class="active" aria-current="page">{{ .PageNumber }}</span>
            {{- else -}}
              <a href="{{ .URL }}" aria-label="Page {{ .PageNumber }}">{{ .PageNumber }}</a>
            {{- end -}}
          </li>
        {{- end -}}

        {{- if $paginator.HasNext -}}
          <li>
            <a href="{{ $paginator.Next.URL }}" rel="next" aria-label="Next page">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </a>
          </li>
        {{- end -}}
      </ul>
    </nav>
  {{- end -}}
{{- else -}}
  <p class="text-secondary">No posts found.</p>
{{- end -}}
{{ end }}
